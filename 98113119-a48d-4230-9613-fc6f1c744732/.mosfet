{
  "layout": "Line",
  "rdbmsId": "98113119-a48d-4230-9613-fc6f1c744732",
  "hidden": false,
  "insightName": "Ticket Trends",
  "recipe": "AddPanel ( 0 ) ;Panel ( 0 ) | AddPanelConfig ( config \u003d [ { \"config\" : { \"type\" : \"STANDARD\" , \"opacity\" : 100 } } ] ) ;Panel ( 0 ) | AddPanelEvents ( { \"onSingleClick\" : { \"Unfilter\" : [ { \"panel\" : \"\" , \"query\" : \"\u003cencode\u003eUnfilterFrame(\u003cSelectedColumn\u003e);\u003c/encode\u003e\" , \"options\" : { } , \"refresh\" : false , \"default\" : true , \"disabledVisuals\" : [ \"Grid\" , \"Sunburst\" ] , \"disabled\" : false } ] } , \"onBrush\" : { \"Filter\" : [ { \"panel\" : \"\" , \"query\" : \"\u003cencode\u003eif(IsEmpty(\u003cSelectedValues\u003e), UnfilterFrame(\u003cSelectedColumn\u003e), SetFrameFilter(\u003cSelectedColumn\u003e\u003d\u003d\u003cSelectedValues\u003e));\u003c/encode\u003e\" , \"options\" : { } , \"refresh\" : false , \"default\" : true , \"disabled\" : false } ] } } ) ;Panel ( 0 ) | RetrievePanelEvents ( ) ;Panel ( 0 ) | SetPanelView ( \"visualization\" , \"\u003cencode\u003e{\"type\":\"echarts\"}\u003c/encode\u003e\" ) ;Panel ( 0 ) | SetPanelView ( \"federate-view\" , \"\u003cencode\u003e{\"app_id\":\"04c07c50-1831-4b57-a997-cf1a29c1cf53\"}\u003c/encode\u003e\" ) ;CreateFrame ( frameType \u003d [ GRID ] , override \u003d [ true ] ) .as ( [ \u0027FRAME395227\u0027 ] ) ;Database ( database \u003d [ \"04c07c50-1831-4b57-a997-cf1a29c1cf53\" ] ) | Select ( PNW_FULL_TRENDS , PNW_FULL_TRENDS__Date , PNW_FULL_TRENDS__Measure , PNW_FULL_TRENDS__Site , PNW_FULL_TRENDS__Source , PNW_FULL_TRENDS__Title , PNW_FULL_TRENDS__Value ) .as ( [ PNW_FULL_TRENDS , Date , Measure , Site , Source , Title , Value ] ) | Filter ( PNW_FULL_TRENDS__Title \u003d\u003d [ \"Critical_Incident_tickets_closed\" , \"Critical_Incident_tickets_created\" , \"Critical_Incident_tickets_opened\" ] ) | Import ( frame \u003d [ FRAME395227 ] ) ;Panel ( 0 ) | SetPanelView ( \"visualization\" ) ;Frame ( frame \u003d [ FRAME395227 ] ) | QueryAll ( ) | AutoTaskOptions ( panel \u003d [ \"0\" ] , layout \u003d [ \"Grid\" ] ) | Collect ( 500 ) ;CreateFrame ( frameType \u003d [ R ] , override \u003d [ true ] ) .as ( [ \u0027FRAME959668\u0027 ] ) ;Database ( database \u003d [ \"04c07c50-1831-4b57-a997-cf1a29c1cf53\" ] ) | Select ( PNW_FULL_TRENDS , PNW_FULL_TRENDS__Date , PNW_FULL_TRENDS__Measure , PNW_FULL_TRENDS__Site , PNW_FULL_TRENDS__Source , PNW_FULL_TRENDS__Title , PNW_FULL_TRENDS__Value ) .as ( [ PNW_FULL_TRENDS , Date , Measure , Site , Source , Title , Value ] ) | Filter ( PNW_FULL_TRENDS__Title \u003d\u003d [ \"Critical_Incident_tickets_closed\" , \"Critical_Incident_tickets_created\" , \"Critical_Incident_tickets_opened\" ] ) | Import ( frame \u003d [ FRAME959668 ] ) ;Panel ( 0 ) | SetPanelView ( \"visualization\" ) ;##Frame ( frame \u003d [ FRAME959668 ] ) | QueryAll ( ) | AutoTaskOptions ( panel \u003d [ \"0\" ] , layout \u003d [ \"Grid\" ] ) | Collect ( 500 ) ;##CountIf ( column \u003d [ Title ] , regex \u003d [ \"Critical_Incident_tickets_created:_Created_Today\" ] , newCol \u003d [ \"Count_of_Created\" ] ) ;CountIf ( column \u003d [ Title ] , regex \u003d [ \"Critical_Incident_tickets_closed:_Closed_Today\" ] , newCol \u003d [ \"Count_of_Closed\" ] ) ;CountIf ( column \u003d [ Title ] , regex \u003d [ \"Critical_Incident_tickets_opened:_Open\" ] , newCol \u003d [ \"Count_of_Open\" ] ) ;Select ( ( Value * Count_of_Created ) , Value , Count_of_Created ) .as ( [ Total_Created , Value , Count_of_Created ] ) | Merge ( joins \u003d [ ( Value , inner.join , Value ) , ( Count_of_Created , inner.join , Count_of_Created ) ] ) ;Select ( ( Value * Count_of_Closed ) , Value , Count_of_Closed ) .as ( [ Total_Closed , Value , Count_of_Closed ] ) | Merge ( joins \u003d [ ( Value , inner.join , Value ) , ( Count_of_Closed , inner.join , Count_of_Closed ) ] ) ;Select ( ( Value * Count_of_Open ) , Value , Count_of_Open ) .as ( [ Total_Open , Value , Count_of_Open ] ) | Merge ( joins \u003d [ ( Value , inner.join , Value ) , ( Count_of_Open , inner.join , Count_of_Open ) ] ) ;if ( ( HasDuplicates ( Date ) ) , ( Select ( Date , Sum ( Total_Closed ) , Sum ( Total_Created ) , Sum ( Total_Open ) ) .as ( [ Date , Total_Closed , Total_Created , Total_Open ] ) | Group ( Date ) | With ( Panel ( 0 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Line\" , \"alignment\" : { \"label\" : [ \"Date\" ] , \"value\" : [ \"Total_Closed\" , \"Total_Created\" , \"Total_Open\" ] , \"tooltip\" : [ ] , \"facet\" : [ ] } } } ) | Collect ( 500 ) ) , ( Select ( Date , Total_Closed , Total_Created , Total_Open ) .as ( [ Date , Total_Closed , Total_Created , Total_Open ] ) | With ( Panel ( 0 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Line\" , \"alignment\" : { \"label\" : [ \"Date\" ] , \"value\" : [ \"Total_Closed\" , \"Total_Created\" , \"Total_Open\" ] , \"tooltip\" : [ ] , \"facet\" : [ ] } } } ) | Collect ( 500 ) ) ) ;Panel ( 0 ) | AddPanelOrnaments ( { \"tools\" : { \"shared\" : { \"toggleLegend\" : true } } } ) ;Panel ( 0 ) | RetrievePanelOrnaments ( \"tools.shared.toggleLegend\" ) ;Panel ( 0 ) | AddPanelOrnaments ( { \"tools\" : { \"shared\" : { \"lineStyle\" : { \"type\" : \"solid\" , \"width\" : \"2\" } } } } ) ;Panel ( 0 ) | AddPanelOrnaments ( { \"tools\" : { \"shared\" : { \"toggleZoomX\" : true } } } ) ;Panel ( 0 ) | AddPanelOrnaments ( { \"tools\" : { \"shared\" : { \"colorName\" : \"Four\" , \"color\" : { \"Total Closed\" : \"#184D68\" , \"Total Created\" : \"#7CA343\" , \"Total Open\" : \"#F9651B\" } , \"backgroundColor\" : \"#FFFFFF\" } } } ) ;Panel ( 0 ) | RetrievePanelOrnaments ( \"tools\" ) ;Frame ( ) | Select ( Date , Sum ( Total_Closed ) , Sum ( Total_Created ) , Sum ( Total_Open ) , Site ) .as ( [ Date , Total_Closed , Total_Created , Total_Open , Site ] ) | Filter ( Site \u003d\u003d \"Bremerton\" ) | Group ( Date , Site ) | With ( Panel ( 0 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Line\" , \"alignment\" : { \"label\" : [ \"Date\" ] , \"value\" : [ \"Total_Closed\" , \"Total_Created\" , \"Total_Open\" ] , \"tooltip\" : [ ] , \"facet\" : [ \"Site\" ] } , \"groupByInfo\" : { \"selectedDim\" : \"Site\" , \"viewType\" : \"Individual Instance\" , \"instanceIndex\" : \"0\" , \"uniqueInstances\" : [ \"Bremerton\" , \"Fairchild\" , \"Madigan\" , \"Oak_Harbor\" ] } } } ) | Collect ( 500 ) ;Panel ( 0 ) | SetPanelLabel ( \"Ticket Trends\" ) ;Frame ( ) | Select ( Date , Sum ( Total_Closed ) , Sum ( Total_Created ) , Sum ( Total_Open ) , Site ) .as ( [ Date , Total_Closed , Total_Created , Total_Open , Site ] ) | Group ( Date , Site ) | Filter ( Site \u003d\u003d \"Fairchild\" ) | With ( Panel ( 0 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Line\" , \"alignment\" : { \"label\" : [ \"Date\" ] , \"value\" : [ \"Total_Closed\" , \"Total_Created\" , \"Total_Open\" ] , \"facet\" : [ \"Site\" ] , \"groupBy\" : [ \"Site\" ] } , \"groupByInfo\" : { \"selectedDim\" : \"Site\" , \"viewType\" : \"Individual Instance\" , \"instanceIndex\" : \"1\" , \"uniqueInstances\" : [ \"Bremerton\" , \"Fairchild\" , \"Madigan\" , \"Oak_Harbor\" ] } } } ) | Collect ( 500 ) ;Frame ( ) | Select ( Date , Sum ( Total_Closed ) , Sum ( Total_Created ) , Sum ( Total_Open ) , Site ) .as ( [ Date , Total_Closed , Total_Created , Total_Open , Site ] ) | Group ( Date , Site ) | Filter ( Site \u003d\u003d \"Madigan\" ) | With ( Panel ( 0 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Line\" , \"alignment\" : { \"label\" : [ \"Date\" ] , \"value\" : [ \"Total_Closed\" , \"Total_Created\" , \"Total_Open\" ] , \"groupBy\" : [ \"Site\" ] , \"facet\" : [ \"Site\" ] } , \"groupByInfo\" : { \"selectedDim\" : \"Site\" , \"viewType\" : \"Individual Instance\" , \"instanceIndex\" : \"2\" , \"uniqueInstances\" : [ \"Bremerton\" , \"Fairchild\" , \"Madigan\" , \"Oak_Harbor\" ] } } } ) | Collect ( 500 ) ;Frame ( ) | Select ( Date , Sum ( Total_Closed ) , Sum ( Total_Created ) , Sum ( Total_Open ) , Site ) .as ( [ Date , Total_Closed , Total_Created , Total_Open , Site ] ) | Group ( Date , Site ) | Filter ( Site \u003d\u003d \"Oak_Harbor\" ) | With ( Panel ( 0 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Line\" , \"alignment\" : { \"label\" : [ \"Date\" ] , \"value\" : [ \"Total_Closed\" , \"Total_Created\" , \"Total_Open\" ] , \"groupBy\" : [ \"Site\" ] , \"facet\" : [ \"Site\" ] } , \"groupByInfo\" : { \"selectedDim\" : \"Site\" , \"viewType\" : \"Individual Instance\" , \"instanceIndex\" : \"3\" , \"uniqueInstances\" : [ \"Bremerton\" , \"Fairchild\" , \"Madigan\" , \"Oak_Harbor\" ] } } } ) | Collect ( 500 ) ;CreateFrame ( frameType \u003d [ R ] , override \u003d [ true ] ) .as ( [ \u0027FRAME959668\u0027 ] ) ;Database ( database \u003d [ \"04c07c50-1831-4b57-a997-cf1a29c1cf53\" ] ) | Select ( PNW_FULL_TRENDS , PNW_FULL_TRENDS__Date , PNW_FULL_TRENDS__Measure , PNW_FULL_TRENDS__Site , PNW_FULL_TRENDS__Source , PNW_FULL_TRENDS__Title , PNW_FULL_TRENDS__Value ) .as ( [ PNW_FULL_TRENDS , Date , Measure , Site , Source , Title , Value ] ) | Filter ( PNW_FULL_TRENDS__Title \u003d\u003d [ \"Critical_Incident_tickets_closed\" , \"Critical_Incident_tickets_created\" , \"Critical_Incident_tickets_opened\" ] ) | Import ( frame \u003d [ FRAME959668 ] ) ;Panel ( 0 ) | SetPanelView ( \"visualization\" , \"\u003cencode\u003e{\"type\":\"standard\"}\u003c/encode\u003e\" ) ;Frame ( ) | Select ( Date , Sum ( Total_Closed ) , Sum ( Total_Created ) , Sum ( Total_Open ) , Site ) .as ( [ Date , Total_Closed , Total_Created , Total_Open , Site ] ) | Group ( Date , Site ) | With ( Panel ( 0 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Grid\" , \"alignment\" : { \"label\" : [ \"Date\" , \"Total_Closed\" , \"Total_Created\" , \"Total_Open\" , \"Site\" ] } } } ) | Collect ( 500 ) ;if ( ( HasDuplicates ( Date ) ) , ( Frame ( ) | Select ( Date , Sum ( Total_Closed ) , Sum ( Total_Created ) , Sum ( Total_Open ) , Average ( Site ) ) .as ( [ Date , SumofTotal_Closed , SumofTotal_Created , SumofTotal_Open , AverageofSite ] ) | Group ( Date ) | With ( Panel ( 0 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Line\" , \"alignment\" : { \"label\" : [ \"Date\" ] , \"value\" : [ \"SumofTotal_Closed\" , \"SumofTotal_Created\" , \"SumofTotal_Open\" , \"AverageofSite\" ] , \"series\" : [ ] , \"tooltip\" : [ ] } } } ) | Collect ( 500 ) ) , ( Frame ( ) | Select ( Date , Count ( Total_Closed ) , Count ( Total_Created ) , Sum ( Total_Open ) , Site ) .as ( [ Date , CountofTotal_Closed , CountofTotal_Created , Total_Open , Site ] ) | Group ( Date ) | With ( Panel ( 0 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Line\" , \"alignment\" : { \"label\" : [ \"Date\" ] , \"value\" : [ \"CountofTotal_Closed\" , \"CountofTotal_Created\" , \"Total_Open\" , \"Site\" ] , \"series\" : [ ] , \"tooltip\" : [ ] } } } ) | Collect ( 500 ) ) ) ;Frame ( ) | Select ( Date , Measure , PNW_FULL_TRENDS , Site , Source , Title , Value ) .as ( [ Date , Measure , PNW_FULL_TRENDS , Site , Source , Title , Value ] ) | With ( Panel ( 0 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Grid\" , \"alignment\" : { \"label\" : [ \"Date\" , \"Measure\" , \"PNW_FULL_TRENDS\" , \"Site\" , \"Source\" , \"Title\" , \"Value\" ] } } } ) | Collect ( 500 ) ;CreateFrame ( frameType \u003d [ R ] , override \u003d [ true ] ) .as ( [ \u0027FRAME959668\u0027 ] ) ;Database ( database \u003d [ \"04c07c50-1831-4b57-a997-cf1a29c1cf53\" ] ) | Select ( PNW_FULL_TRENDS , PNW_FULL_TRENDS__Date , PNW_FULL_TRENDS__Measure , PNW_FULL_TRENDS__Site , PNW_FULL_TRENDS__Source , PNW_FULL_TRENDS__Title , PNW_FULL_TRENDS__Value ) .as ( [ PNW_FULL_TRENDS , Date , Measure , Site , Source , Title , Value ] ) | Filter ( PNW_FULL_TRENDS__Title \u003d\u003d [ \"Critical_Incident_tickets_closed\" , \"Critical_Incident_tickets_created\" , \"Critical_Incident_tickets_opened\" ] ) | Import ( frame \u003d [ FRAME959668 ] ) ;Panel ( 0 ) | SetPanelView ( \"visualization\" ) ;##Frame ( frame \u003d [ FRAME959668 ] ) | QueryAll ( ) | AutoTaskOptions ( panel \u003d [ \"0\" ] , layout \u003d [ \"Grid\" ] ) | Collect ( 500 ) ;##CountIf ( column \u003d [ Title ] , regex \u003d [ \"Critical_Incident_tickets_created\" ] , newCol \u003d [ \"Count_of_Created\" ] ) ;CountIf ( column \u003d [ Title ] , regex \u003d [ \"Critical_Incident_tickets_closed\" ] , newCol \u003d [ \"Count_of_Closed\" ] ) ;CountIf ( column \u003d [ Title ] , regex \u003d [ \"Critical_Incident_tickets_opened\" ] , newCol \u003d [ \"Count_of_Open\" ] ) ;Select ( ( Value * Count_of_Created ) , Value , Count_of_Created ) .as ( [ Total_Created , Value , Count_of_Created ] ) | Merge ( joins \u003d [ ( Value , inner.join , Value ) , ( Count_of_Created , inner.join , Count_of_Created ) ] ) ;Select ( ( Value * Count_of_Closed ) , Value , Count_of_Closed ) .as ( [ Total_Closed , Value , Count_of_Closed ] ) | Merge ( joins \u003d [ ( Value , inner.join , Value ) , ( Count_of_Closed , inner.join , Count_of_Closed ) ] ) ;Select ( ( Value * Count_of_Open ) , Value , Count_of_Open ) .as ( [ Total_Open , Value , Count_of_Open ] ) | Merge ( joins \u003d [ ( Value , inner.join , Value ) , ( Count_of_Open , inner.join , Count_of_Open ) ] ) ;Panel ( 0 ) | SetPanelView ( \"visualization\" , \"\u003cencode\u003e{\"type\":\"echarts\"}\u003c/encode\u003e\" ) ;Panel ( 0 ) | SetPanelView ( \"visualization\" , \"\u003cencode\u003e{\"type\":\"echarts\"}\u003c/encode\u003e\" ) ;if ( ( HasDuplicates ( Date ) ) , ( Select ( Date , Sum ( Total_Closed ) , Sum ( Total_Created ) , Sum ( Total_Open ) ) .as ( [ Date , Total_Closed , Total_Created , Total_Open ] ) | Group ( Date ) | With ( Panel ( 0 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Line\" , \"alignment\" : { \"label\" : [ \"Date\" ] , \"value\" : [ \"Total_Closed\" , \"Total_Created\" , \"Total_Open\" ] , \"tooltip\" : [ ] , \"facet\" : [ ] } } } ) | Collect ( 500 ) ) , ( Select ( Date , Total_Closed , Total_Created , Total_Open ) .as ( [ Date , Total_Closed , Total_Created , Total_Open ] ) | With ( Panel ( 0 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Line\" , \"alignment\" : { \"label\" : [ \"Date\" ] , \"value\" : [ \"Total_Closed\" , \"Total_Created\" , \"Total_Open\" ] , \"tooltip\" : [ ] , \"facet\" : [ ] } } } ) | Collect ( 500 ) ) ) ;Panel ( 0 ) | AddPanelOrnaments ( { \"tools\" : { \"shared\" : { \"toggleLegend\" : true } } } ) ;Panel ( 0 ) | RetrievePanelOrnaments ( \"tools.shared.toggleLegend\" ) ;Panel ( 0 ) | AddPanelOrnaments ( { \"tools\" : { \"shared\" : { \"lineStyle\" : { \"type\" : \"solid\" , \"width\" : \"2\" } } } } ) ;Panel ( 0 ) | AddPanelOrnaments ( { \"tools\" : { \"shared\" : { \"toggleZoomX\" : true } } } ) ;Panel ( 0 ) | AddPanelOrnaments ( { \"tools\" : { \"shared\" : { \"colorName\" : \"Four\" , \"color\" : { \"Total Closed\" : \"#184D68\" , \"Total Created\" : \"#7CA343\" , \"Total Open\" : \"#F9651B\" } , \"backgroundColor\" : \"#FFFFFF\" } } } ) ;Panel ( 0 ) | RetrievePanelOrnaments ( \"tools\" ) ;Frame ( ) | Select ( Date , Sum ( Total_Closed ) , Sum ( Total_Created ) , Sum ( Total_Open ) , Site ) .as ( [ Date , Total_Closed , Total_Created , Total_Open , Site ] ) | Filter ( Site \u003d\u003d \"Bremerton\" ) | Group ( Date , Site ) | With ( Panel ( 0 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Line\" , \"alignment\" : { \"label\" : [ \"Date\" ] , \"value\" : [ \"Total_Closed\" , \"Total_Created\" , \"Total_Open\" ] , \"tooltip\" : [ ] , \"facet\" : [ \"Site\" ] } , \"groupByInfo\" : { \"selectedDim\" : \"Site\" , \"viewType\" : \"Individual Instance\" , \"instanceIndex\" : \"0\" , \"uniqueInstances\" : [ \"Bremerton\" , \"Fairchild\" , \"Madigan\" , \"Oak_Harbor\" ] } } } ) | Collect ( 500 ) ;",
  "engineId": "04c07c50-1831-4b57-a997-cf1a29c1cf53"
}